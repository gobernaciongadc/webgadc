import{a as h}from"./chunk-TNTC3CHY.js";import{$a as V,Aa as T,Ba as j,Da as L,Ea as O,F as N,Fa as P,G as v,Ga as R,I,Ka as z,La as g,M,Oa as u,Pa as D,Qa as w,Ra as G,S as i,Sa as _,T as n,U as m,Ua as q,Va as A,Wa as H,Xa as B,Y as F,ab as U,cb as W,da as l,i as y,l as S,n as k,o as s,q as f,r as p,s as c,va as E}from"./chunk-2STZQVDI.js";var Z=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-no-pages-found"]],decls:2,vars:0,template:function(o,a){o&1&&(i(0,"p"),l(1,"no-pages-found works!"),n())}});let t=e;return t})();function ie(t,e){t&1&&(i(0,"div",27)(1,"div",28),m(2,"div",29),i(3,"p",30),m(4,"img",31)(5,"br"),l(6," Gobierno Aut\xF3nomo Municipal de Cliza "),n()()())}var $=(()=>{let e=class e{ngOnInit(){this.crearFormulario()}constructor(r,o,a){this.fb=r,this.loginServices=o,this.router=a,this.loading=!1}crearFormulario(){this.formulario=this.fb.group({email:["",w.required],password:["",w.required],remember:[""]})}get email(){return this.formulario.get("email")}get password(){return this.formulario.get("password")}get remember(){return this.formulario.get("remember")}login(){this.loading=!0;let r=this.formulario.value;this.loginServices.login(r).subscribe({next:o=>{o.token&&(localStorage.setItem("token",o.token),this.router.navigate(["/admin/dashboard"]),setTimeout(()=>{this.loading=!1},5e3))},error:o=>{console.log(o)},complete:()=>{console.log("complete")}})}};e.\u0275fac=function(o){return new(o||e)(v(U),v(h),v(g))},e.\u0275cmp=p({type:e,selectors:[["app-login"]],decls:36,vars:2,consts:[["class","preloader",4,"ngIf"],[1,"card-no-border"],["id","wrapper"],[1,"login-register","login-register--fondo"],[1,"login-box","card","card--borde-radios"],[1,"card-header","card-header--logo","bg-info"],["src","./../../../../assets/img/logoclizasun-5.png","alt","logo cliza",1,"img-fluid","card-header__img"],[1,"card-body"],["id","loginform",1,"form-horizontal","form-material",3,"ngSubmit","formGroup"],[1,"box-title","m-b-20"],[1,"form-group"],[1,"col-xs-12"],["type","text","required","","placeholder","Usuario","formControlName","email",1,"form-control"],["type","password","required","","placeholder","Contrase\xF1a","formControlName","password",1,"form-control"],[1,"form-group","row"],[1,"col-md-12"],[1,"checkbox","checkbox-info","pull-left","p-t-0"],["id","checkbox-signup","type","checkbox","formArrayName","remember",1,"filled-in","chk-col-light-blue"],["for","checkbox-signup"],["href","javascript:void(0)","id","to-recover",1,"text-dark","pull-right"],[1,"fa","fa-lock","m-r-5"],[1,"form-group","text-center"],[1,"col-xs-12","p-b-20"],["type","submit",1,"btn","btn-block","btn-lg","btn-info","btn-rounded"],[1,"form-group","m-b-0"],[1,"col-sm-12","text-center"],["href","#",1,"text-info","m-l-5"],[1,"preloader"],[1,"loader"],[1,"loader__figure"],[1,"loader__label","text-center"],["src","./../../../../assets/img/logoclizasun-5.png","alt","Logo cliza",1,"loader__figure--logo"]],template:function(o,a){o&1&&(I(0,ie,7,0,"div",0),i(1,"div",1)(2,"section",2)(3,"div",3)(4,"div",4)(5,"div",5),m(6,"img",6),n(),i(7,"div",7)(8,"form",8),F("ngSubmit",function(){return a.login()}),i(9,"h3",9),l(10,"Iniciar sesi\xF3n"),n(),i(11,"div",10)(12,"div",11),m(13,"input",12),n()(),i(14,"div",10)(15,"div",11),m(16,"input",13),n()(),i(17,"div",14)(18,"div",15)(19,"div",16),m(20,"input",17),i(21,"label",18),l(22," Recuerdame "),n()(),i(23,"a",19),m(24,"i",20),l(25," Olvidaste tu contrase\xF1a?"),n()()(),i(26,"div",21)(27,"div",22)(28,"button",23),l(29,"Ingresar"),n()()(),i(30,"div",24)(31,"div",25),l(32," No tienes una cuenta? "),i(33,"a",26)(34,"b"),l(35,"Comunicate con la unidad de TICs."),n()()()()()()()()()()),o&2&&(M("ngIf",a.loading),N(8),M("formGroup",a.formulario))},dependencies:[E,q,D,G,_,V,A,B,H],styles:[".card-header[_ngcontent-%COMP%]{background:#0fa7f6;background:linear-gradient(90deg,#0fa7f6,#092d79 35%,#00d4ff)}.card-header__img[_ngcontent-%COMP%]{width:50%}.card-header--logo[_ngcontent-%COMP%]{border-radius:15px 15px 0 0;text-align:center}.loader__figure--logo[_ngcontent-%COMP%]{width:150px!important;margin:0 auto}.login-register--fondo[_ngcontent-%COMP%]{background:#f9f9fa;height:100vh}.card--borde-radios[_ngcontent-%COMP%]{border-radius:15px 15px 0 0;-webkit-box-shadow:-2px 1px 6px 2px rgba(194,184,194,1);-moz-box-shadow:-2px 1px 6px 2px rgba(194,184,194,1);box-shadow:-2px 1px 6px 2px #c2b8c2}"]});let t=e;return t})();var ne=[{path:"login",component:$,data:{titulo:"Iniciar Sesi\xF3n"}}],x=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[u.forChild(ne),u]});let t=e;return t})();var J=(t,e)=>{let C=f(h),r=f(g);return C.isLoggedIn()?!0:(r.navigate(["/login"]),!1)},K=(t,e)=>{let C=f(h),r=f(g);return C.isLoggedIn()?!0:(r.navigate(["/login"]),!1)};var ae=[{path:"",redirectTo:"web/inicio",pathMatch:"full"},{path:"web",loadChildren:()=>import("./chunk-GJPU6MH2.js").then(t=>t.WebModule)},{path:"admin",redirectTo:"admin/dashboard",pathMatch:"full"},{path:"admin",loadChildren:()=>import("./chunk-4WR7IAL2.js").then(t=>t.AdminModule),canActivate:[J],canMatch:[K]},{path:"**",component:Z}],Q=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[u.forRoot(ae),x,u]});let t=e;return t})();var X=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=c({type:e}),e.\u0275inj=s({imports:[T,x,W]});let t=e;return t})();var Y=(()=>{let e=class e{intercept(r,o){let a=this.getToken(),b=new j;a&&(b=b.set("Authorization",`Bearer ${a}`));let oe=r.clone({headers:b});return o.handle(oe).pipe(S(this.handleError))}getToken(){return localStorage.getItem("token")}handleError(r){return console.error("HTTP Error:",r),y(()=>new Error(r.message))}};e.\u0275fac=function(o){return new(o||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var ee=(()=>{let e=class e{constructor(){this.title="webapp-cliza"}ngOnInit(){}};e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=p({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(o,a){o&1&&m(0,"router-outlet")},dependencies:[z]});let t=e;return t})();var te=(()=>{let e=class e{};e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=c({type:e,bootstrap:[ee]}),e.\u0275inj=s({providers:[{provide:L,useClass:Y,multi:!0}],imports:[R,Q,X,O]});let t=e;return t})();P().bootstrapModule(te,{ngZoneEventCoalescing:!0}).catch(t=>console.error(t));
